@if (isLoading()) {
  <div class="spinner-container">
    <p-progress-spinner [style]="{ width: '20%', height: '20%' }" />
  </div>
} @else {
  @if (category() === "institution") {
    @for (institution of hospitals(); track $index) {
      <app-hospital-card
        (institutionClicked)="onInstitutionClicked($event)"
        [hospital]="getDataForInstitutionCard()[$index]"
      ></app-hospital-card>
    }
  } @else {
    @for (doctor of doctors(); track $index) {
      <app-doctor-card
        [doctor]="doctor"
        (bookAppointment)="onBookAppointment($event)"
        (showMoreInfo)="onShowMoreInfo($event)"
        (addressChange)="onAddressChange($event)"
        [isScheduleLoading]="
          doctor.id === isNewScheduleLoaded().cardId
            ? isNewScheduleLoaded().isLoading
            : false
        "
      >
      </app-doctor-card>
    }
  }

  <p-paginator
    (onPageChange)="onPageChange($event)"
    [first]="first()"
    [rows]="rows()"
    [totalRecords]="totalRecords()"
    [rowsPerPageOptions]="[10, 20, 30]"
    [style]="{ width: '100%'}"
  />

}
