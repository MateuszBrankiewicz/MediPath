<div class="doctor-profile">
  <div class="doctor-info">
    <div class="doctor-header">
      <div class="doctor-avatar">
        <img [src]="doctor().photoUrl" [alt]="doctor().name" />
      </div>

      <div class="doctor-details">
        <h2 class="doctor-name">{{ doctor().name }}</h2>

        <div class="doctor-specialization">
          <span>{{ doctor().specialisation }}</span>
          <button class="more-btn" (click)="onShowMore()">More</button>
        </div>

        <div class="doctor-rating">
          <div class="stars">
            @for (star of [1, 2, 3, 4, 5]; track star) {
              <span class="star" [class.filled]="star <= doctor().rating"
                >★</span
              >
            }
          </div>
          <span class="reviews-count">{{ doctor().reviewsCount }} opinion</span>
        </div>
      </div>
    </div>

    <div class="address-section">
      <div class="address-tabs">
        @for (address of doctor().addresses; let i = $index; track i) {
          <button
            class="address-tab"
            [class.active]="i === selectedAddressIndex()"
            (click)="onAddressTabClick(i)"
          >
            Adres {{ i + 1 }}
          </button>
        }
      </div>

      <div class="current-address">
        {{ doctor().addresses[selectedAddressIndex()] }}
      </div>
    </div>
  </div>

  <div class="schedule-section">
    <div class="schedule-days">
      @for (day of doctor().schedule; track day) {
        <div class="day-column">
          <div class="day-header">
            <div class="day-name">{{ day.dayName }}</div>
            <div class="day-date">{{ day.dayNumber }}</div>
          </div>

          <div class="time-slots">
            @for (slot of day.slots; track slot) {
              <button
                class="time-slot"
                [class.available]="slot.available && !slot.booked"
                [class.booked]="slot.booked"
                [class.unavailable]="!slot.available"
                [disabled]="!slot.available || slot.booked"
                (click)="onTimeSlotClick(day, slot)"
              >
                {{ slot.time }}
              </button>
            }

            <button class="more-hours-btn" (click)="onShowMoreHours(day)">
              More hours ⌄
            </button>
          </div>
        </div>
      }
    </div>

    <button class="next-btn">
      <span class="arrow">→</span>
    </button>
  </div>
</div>
