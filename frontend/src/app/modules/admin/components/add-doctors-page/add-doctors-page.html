<div class="add-doctor-page">
  <div class="page-header">
    <div class="breadcrumb">
      <a routerLink="/admin/doctors" class="breadcrumb-link">
        {{ translationService.translate("admin.addDoctor.breadcrumb.doctors") }}
      </a>
      <i class="pi pi-angle-right breadcrumb-separator"></i>
      <span class="breadcrumb-current">
        {{ translationService.translate("admin.addDoctor.breadcrumb.addNew") }}
      </span>
    </div>
  </div>

  <form [formGroup]="doctorForm" (ngSubmit)="onSubmit()" class="doctor-form">
    <p-card>
      <div class="form-container">
        <app-doctor-personal-info-form
          [formGroup]="doctorForm"
          [translationKey]="'admin.addDoctor'"
          [isFieldInvalid]="isFieldInvalid"
          [getFieldError]="getFieldErrorFn"
        />

        <p-divider />

        <app-doctor-professional-info-form
          [formGroup]="doctorForm"
          [translationKey]="'admin.addDoctor'"
          [specialisations]="specialisations()"
          [roleOptions]="roleOptions"
          [showRoleSelect]="true"
          [isFieldInvalid]="isFieldInvalid"
          [getFieldError]="getFieldErrorFn"
          (roleChanged)="roleChanged($event)"
        />

        <p-divider />

        <app-doctor-address-form
          [formGroup]="residentialAddressForm"
          [translationKey]="'admin.addDoctor'"
          [formGroupName]="'residentialAddress'"
          [isFieldInvalid]="isFieldInvalid"
          [getFieldError]="getFieldErrorFn"
          [cities]="cities()"
          [provinces]="provinces()"
        />

        <div class="form-actions">
          <p-button
            [label]="translationService.translate('admin.addDoctor.confirm')"
            [loading]="isSubmitting()"
            [disabled]="isSubmitting()"
            type="submit"
          />
        </div>
      </div>
    </p-card>
  </form>
</div>
